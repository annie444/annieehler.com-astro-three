import{j as B}from"./jsx-runtime.D_zvdyIk.js";import{r as E,R as nt}from"./index.6otl1p8d.js";import{u as ct}from"./useDarkMode.BWRM0mF6.js";const Q=({children:e,fontSize:t="clamp(2rem, 8vw, 8rem)",fontWeight:n=900,fontFamily:o="inherit",color:r="#fff",enableHover:i=!0,baseIntensity:a=.18,hoverIntensity:c=.5})=>{const s=E.useRef(null),l=ct(),u=E.useRef("string"==typeof r?r:l?r.dark:r.light);return E.useEffect((()=>{s.current&&(u.current="string"==typeof r?r:l?r.dark:r.light)}),[l]),E.useEffect((()=>{let r,l=!1,d=u.current;const m=s.current;if(!m)return;const f=async()=>{if(document.fonts?.ready&&await document.fonts.ready,l)return;const s=m.getContext("2d");if(!s)return;const d="inherit"===o?window.getComputedStyle(m).fontFamily||"sans-serif":o,f="number"==typeof t?`${t}px`:t;let h;if("number"==typeof t)h=t;else{const e=document.createElement("span");e.style.fontSize=t,document.body.appendChild(e);const n=window.getComputedStyle(e).fontSize;h=parseFloat(n),document.body.removeChild(e)}const p=nt.Children.toArray(e).join(""),v=document.createElement("canvas"),x=v.getContext("2d");if(!x)return;x.font=`${n} ${f} ${d}`,x.textBaseline="alphabetic";const y=x.measureText(p),g=y.actualBoundingBoxLeft??0,w=y.actualBoundingBoxRight??y.width,B=y.actualBoundingBoxAscent??h,E=y.actualBoundingBoxDescent??.2*h,z=Math.ceil(g+w),F=Math.ceil(B+E),j=z+10;v.width=j,v.height=F;x.font=`${n} ${f} ${d}`,x.textBaseline="alphabetic",x.fillStyle=u.current,x.fillText(p,5-g,B);m.width=j+100,m.height=F+0,s.translate(50,0);const C=55+z,L=0+F;let b=!1;const R=()=>{if(l)return;s.clearRect(-30,-30,j+60,F+60);const e=b?c:a;for(let t=0;t<F;t++){const n=Math.floor(e*(Math.random()-.5)*30);s.drawImage(v,0,t,j,1,n,t,j,1)}r=window.requestAnimationFrame(R)};R();const T=(e,t)=>e>=55&&e<=C&&t>=0&&t<=L,$=e=>{if(!i)return;const t=m.getBoundingClientRect(),n=e.clientX-t.left,o=e.clientY-t.top;b=T(n,o)},A=()=>{b=!1},M=e=>{if(!i)return;e.preventDefault();const t=m.getBoundingClientRect(),n=e.touches[0],o=n.clientX-t.left,r=n.clientY-t.top;b=T(o,r)},S=()=>{b=!1};i&&(m.addEventListener("mousemove",$),m.addEventListener("mouseleave",A),m.addEventListener("touchmove",M,{passive:!1}),m.addEventListener("touchend",S));m.cleanupFuzzyText=()=>{window.cancelAnimationFrame(r),i&&(m.removeEventListener("mousemove",$),m.removeEventListener("mouseleave",A),m.removeEventListener("touchmove",M),m.removeEventListener("touchend",S))}};return f(),d!==u.current&&(l=!0,window.cancelAnimationFrame(r),m&&m.cleanupFuzzyText&&m.cleanupFuzzyText(),l=!1),f(),()=>{l=!0,window.cancelAnimationFrame(r),m&&m.cleanupFuzzyText&&m.cleanupFuzzyText()}}),[e,t,n,o,r,i,a,c,u,l]),B.jsx("canvas",{ref:s})};function it({header:e,footer:t}){return B.jsxs("div",{className:"pointer-events-auto mx-auto flex w-full max-w-[80vw] flex-1 flex-col space-y-10",children:[B.jsx(Q,{...e.attrs,children:e.text}),B.jsx(Q,{...t.attrs,children:t.text})]})}export{it as ErrorPage};